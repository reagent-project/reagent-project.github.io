<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>Using Hiccup to Describe HTML</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Reagent</span> <span class="project-version">0.9.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="BatchingAndTiming.html"><div class="inner"><span>Batching and Timing: How Reagent Renders Changes to Application State</span></div></a></li><li class="depth-1 "><a href="CljsjsReactProblems.html"><div class="inner"><span>Question</span></div></a></li><li class="depth-1 "><a href="ComponentNotRerendering.html"><div class="inner"><span>## Question</span></div></a></li><li class="depth-1 "><a href="ControlledInputs.html"><div class="inner"><span>Controlled inputs</span></div></a></li><li class="depth-1 "><a href="CreatingReagentComponents.html"><div class="inner"><span>#### Not An Absolute Introduction</span></div></a></li><li class="depth-1 "><a href="InteropWithReact.html"><div class="inner"><span>Interop with React</span></div></a></li><li class="depth-1 "><a href="ManagingState.html"><div class="inner"><span>Managing state: atoms, cursors, Reactions, and tracking</span></div></a></li><li class="depth-1 "><a href="MyAttributesAreMissing.html"><div class="inner"><span>## Question</span></div></a></li><li class="depth-1 "><a href="README.html"><div class="inner"><span># Tutorials</span></div></a></li><li class="depth-1 "><a href="ReactFeatures.html"><div class="inner"><span>React Features</span></div></a></li><li class="depth-1 "><a href="UsingAnEntity.html"><div class="inner"><span>## Question</span></div></a></li><li class="depth-1  current"><a href="UsingHiccupToDescribeHTML.html"><div class="inner"><span>Using Hiccup to Describe HTML</span></div></a></li><li class="depth-1 "><a href="UsingRefs.html"><div class="inner"><span>## Question</span></div></a></li><li class="depth-1 "><a href="UsingSquareBracketsInsteadOfParens.html"><div class="inner"><span># Components</span></div></a></li><li class="depth-1 "><a href="WhenDoComponentsUpdate.html"><div class="inner"><span># Components Are Reactive</span></div></a></li><li class="depth-1 "><a href="dangerouslySetInnerHTML.html"><div class="inner"><span>## Question</span></div></a></li><li class="depth-1 "><a href="development.html"><div class="inner"><span>Reagent development</span></div></a></li><li class="depth-1 "><a href="material-ui.html"><div class="inner"><span>Material-UI</span></div></a></li><li class="depth-1 "><a href="smooth-ui.html"><div class="inner"><span>Smooth UI</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 branch"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span></span></div></div></li><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reagent</span></div></div></li><li class="depth-2 branch"><a href="reagent.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="reagent.debug.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>debug</span></div></a></li><li class="depth-2"><a href="reagent.dom.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dom</span></div></a></li><li class="depth-3"><a href="reagent.dom.server.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>server</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>impl</span></div></div></li><li class="depth-3 branch"><a href="reagent.impl.batching.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>batching</span></div></a></li><li class="depth-3 branch"><a href="reagent.impl.component.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>component</span></div></a></li><li class="depth-3 branch"><a href="reagent.impl.template.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>template</span></div></a></li><li class="depth-3"><a href="reagent.impl.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-2 branch"><a href="reagent.interop.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>interop</span></div></a></li><li class="depth-2"><a href="reagent.ratom.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ratom</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><h1><a href="#using-hiccup-to-describe-html" name="using-hiccup-to-describe-html"></a>Using Hiccup to Describe HTML</h1>
<p>Reagent uses a datastructure known as Hiccup to describe HTML. Hiccup describes HTML elements and user-defined components as a nested ClojureScript vector:</p>
<pre><code class="clojure">[:div {:class "parent"}
  [:p {:id "child-one"} "I'm first child element."]
  [:p "I'm the second child element."]]
</code></pre>
<p>As described below, reagent provides a number of extensions and conveniences to Hiccup, but the general rules of Hiccup are as follows:</p>
<ol>
  <li>The first element is either a keyword or a symbol</li>
</ol>
<ul>
  <li>If it is a keyword, the element is an HTML element where <code>(name keyword)</code> is the tag of the HTML element.</li>
  <li>If it is a symbol, reagent will treat the vector as a component, as described in the next section.</li>
</ul>
<ol>
  <li>If the second element is a map, it represents the attributes to the element. The attribute map may be omitted.</li>
  <li>Any additional elements must either be Hiccup vectors representing child nodes or string literals representing child text nodes.</li>
</ol>
<h2><a href="#special-treatment-of-child-nodes" name="special-treatment-of-child-nodes"></a>Special treatment of <code>nil</code> child nodes</h2>
<p>Reagent and React ignore nil nodes, which allow conditional logic in Hiccup forms:</p>
<pre><code class="clojure">(defn my-div [child?]
  [:div
    "Parent Element"
    (when child? [:div "Child element"])])
</code></pre>
<p>In this example <code>(my-div false)</code> will evaluate to <code>[:div "Parent Element" nil]</code>, which reagent will simply treat the same as <code>[:div "Parent Element"]</code>.</p>
<h2><a href="#special-interpretation-of-attribute" name="special-interpretation-of-attribute"></a>Special interpretation of <code>style</code> attribute</h2>
<p>The <code>:style</code> attribute can be written a string or as a map. The following two are equivalent:</p>
<pre><code class="clojure">[:div {:style "color: red; font-weight: bold"} "Alert"]
[:div {:style {:color "red"
               :font-weight "bold"}
      "Alert"]
</code></pre>
<p>The map form is the same as <a href="https://reactjs.org/docs/dom-elements.html#style">React’s style attribute</a>, except that when using the map form of the style attribute, the keys should be the same as the CSS attribute as shown in the example above (not in camel case as is required JavaScript).</p>
<h2><a href="#special-interpretation-of-attribute" name="special-interpretation-of-attribute"></a>Special interpretation of <code>class</code> attribute</h2>
<p>In JavaScript, <code>class</code> is a reserved keyword, so React uses the <code>className</code> to specify class attibutes. Reagent just uses <code>class</code>.</p>
<p>As of reagent 0.8.0, the <code>class</code> attribute accepts a collection of classes and will remove any nil value:</p>
<pre><code class="clojure">[:div {:class ["a-class" (when active? "active") "b-class"]}]
</code></pre>
<h2><a href="#special-notation-for-id-and-class" name="special-notation-for-id-and-class"></a>Special notation for id and class</h2>
<p>The id of an element can be indicated with a hash (<code>#</code>) after the name of the element.</p>
<p>This:</p>
<pre><code class="clojure">[:div#my-id]
</code></pre>
<p>is the same as this:</p>
<pre><code class="clojure">[:div {:id "my-id"}]
</code></pre>
<p>One or more classes can be indicated for an element with a <code>.</code> and the class-name like this:</p>
<pre><code class="clojure">[:div.my-class.my-other-class.etc]
</code></pre>
<p>which is the same as:</p>
<pre><code class="clojure">[:div {:class ["my-class" "my-other-class" "etc"]}]
</code></pre>
<p>Special notations for id and classes can be used together. The id must be listed first:</p>
<pre><code class="clojure">[:div#my-id.my-class.my-other-class]
</code></pre>
<p>which is the same as:</p>
<pre><code class="clojure">[:div {:id "my-id" :class ["my-class" "my-other-class"]}]
</code></pre>
<h2><a href="#special-notation-for-nested-elements" name="special-notation-for-nested-elements"></a>Special notation for nested elements</h2>
<p>Reagent extends standard Hiccup in one way: it is possible to stack elements together by using a <code>&gt;</code> character.</p>
<p>This:</p>
<pre><code class="clojure">[:div
  [:p
    [:b "Nested Element"]]]
</code></pre>
<p>can be written as:</p>
<pre><code class="clojure">[:div&gt;p&gt;b "Nested Element"]
</code></pre>
<h2><a href="#rendering-hiccup" name="rendering-hiccup"></a>Rendering Hiccup</h2>
<p>The primary entrypoint to the reagent library is <code>reagent.core/render</code>.</p>
<pre><code class="clojure">(ns example
  (:require [reagent.core :as r]))

(defn render-simple []
  (r/render [:div [:p "Hello world!"]]
    (.-body js/document)))
</code></pre>
<p>This <code>render</code> function expects one of two things:</p>
<ol>
  <li>A React Element, which will just be passed to React as is.</li>
  <li>A ClojureScript vector (i.e., a Hiccup form).</li>
</ol>
<p>If it encounters a ClojureScript vector, it will interpret it as Hiccup. Reagent expects one of two things in the first position of the vector:</p>
<ol>
  <li>A keyword like <code>:div</code> or <code>:span</code>, which it will create using React.createElement</li>
  <li>A symbol like <code>my-component</code>.</li>
</ol>
<p>If it’s a symbol, then reagent will evaluate a function by that name. Reagent expects one of three things from this function:</p>
<ol>
  <li>A Hiccup vector. Reagent creates a React component with the function as its render method and uses the Hiccup vector for the initial render.</li>
  <li>A ClojureScript function. Reagent will then create a React component with this inner function as the render method and will then call the inner function for the initial render.</li>
  <li>A React component. Reagent will render this using React.createElement. Note, this could be a result of calling (React.core/create-class) or it could be a React component you have imported from a JavaScript library.</li>
</ol></div></div></div></body></html>