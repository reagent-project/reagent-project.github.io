<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link href="../css/built.css?1419065404903" rel="stylesheet"><title>Reagent: A binary clock</title></head><body><div id="main-content"><div><div data-reactid=".1k4tc3lmakg" data-react-checksum="-840852405"><div class="nav" data-reactid=".1k4tc3lmakg.0"><ul class="nav" data-reactid=".1k4tc3lmakg.0.0"><li class="brand" data-reactid=".1k4tc3lmakg.0.0.0"><a href="../index.html" data-reactid=".1k4tc3lmakg.0.0.0.0">Reagent:</a></li><li data-reactid=".1k4tc3lmakg.0.0.1"><a href="../index.html" data-reactid=".1k4tc3lmakg.0.0.1.0">Intro</a></li><li data-reactid=".1k4tc3lmakg.0.0.2"><a href="../news/index.html" data-reactid=".1k4tc3lmakg.0.0.2.0">News</a></li><li data-reactid=".1k4tc3lmakg.0.0.3"><a href="https://github.com/reagent-project/reagent" data-reactid=".1k4tc3lmakg.0.0.3.0">GitHub</a></li></ul></div><div class="reagent-demo" data-reactid=".1k4tc3lmakg.2"><h1 data-reactid=".1k4tc3lmakg.2.0"><a href="../news/binary-clock.html" data-reactid=".1k4tc3lmakg.2.0.0">A binary clock</a></h1><div class="demo-text" data-reactid=".1k4tc3lmakg.2.1"><div data-reactid=".1k4tc3lmakg.2.1.0"><div class="clearfix" data-reactid=".1k4tc3lmakg.2.1.0.0"><div class="clock-main" data-reactid=".1k4tc3lmakg.2.1.0.0.0"><div class="clock-col clock-legend" data-reactid=".1k4tc3lmakg.2.1.0.0.0.0"><div class="clock-cell" data-reactid=".1k4tc3lmakg.2.1.0.0.0.0.0">8</div><div class="clock-cell" data-reactid=".1k4tc3lmakg.2.1.0.0.0.0.1">4</div><div class="clock-cell" data-reactid=".1k4tc3lmakg.2.1.0.0.0.0.2">2</div><div class="clock-cell" data-reactid=".1k4tc3lmakg.2.1.0.0.0.0.3">1</div></div><div class="clock-pair" data-reactid=".1k4tc3lmakg.2.1.0.0.0.1"><div class="clock-col" data-reactid=".1k4tc3lmakg.2.1.0.0.0.1.0"><div class="clock-cell dark" data-reactid=".1k4tc3lmakg.2.1.0.0.0.1.0.0"></div><div class="clock-cell dark" data-reactid=".1k4tc3lmakg.2.1.0.0.0.1.0.1"></div><div class="clock-cell dark" data-reactid=".1k4tc3lmakg.2.1.0.0.0.1.0.2"></div><div class="clock-cell dark" data-reactid=".1k4tc3lmakg.2.1.0.0.0.1.0.3"></div><div class="clock-cell" data-reactid=".1k4tc3lmakg.2.1.0.0.0.1.0.4">0</div></div><div class="clock-col" data-reactid=".1k4tc3lmakg.2.1.0.0.0.1.1"><div class="clock-cell light" data-reactid=".1k4tc3lmakg.2.1.0.0.0.1.1.0"></div><div class="clock-cell dark" data-reactid=".1k4tc3lmakg.2.1.0.0.0.1.1.1"></div><div class="clock-cell dark" data-reactid=".1k4tc3lmakg.2.1.0.0.0.1.1.2"></div><div class="clock-cell light" data-reactid=".1k4tc3lmakg.2.1.0.0.0.1.1.3"></div><div class="clock-cell" data-reactid=".1k4tc3lmakg.2.1.0.0.0.1.1.4">9</div></div></div><div class="clock-pair" data-reactid=".1k4tc3lmakg.2.1.0.0.0.2"><div class="clock-col" data-reactid=".1k4tc3lmakg.2.1.0.0.0.2.0"><div class="clock-cell dark" data-reactid=".1k4tc3lmakg.2.1.0.0.0.2.0.0"></div><div class="clock-cell light" data-reactid=".1k4tc3lmakg.2.1.0.0.0.2.0.1"></div><div class="clock-cell dark" data-reactid=".1k4tc3lmakg.2.1.0.0.0.2.0.2"></div><div class="clock-cell light" data-reactid=".1k4tc3lmakg.2.1.0.0.0.2.0.3"></div><div class="clock-cell" data-reactid=".1k4tc3lmakg.2.1.0.0.0.2.0.4">5</div></div><div class="clock-col" data-reactid=".1k4tc3lmakg.2.1.0.0.0.2.1"><div class="clock-cell dark" data-reactid=".1k4tc3lmakg.2.1.0.0.0.2.1.0"></div><div class="clock-cell dark" data-reactid=".1k4tc3lmakg.2.1.0.0.0.2.1.1"></div><div class="clock-cell dark" data-reactid=".1k4tc3lmakg.2.1.0.0.0.2.1.2"></div><div class="clock-cell dark" data-reactid=".1k4tc3lmakg.2.1.0.0.0.2.1.3"></div><div class="clock-cell" data-reactid=".1k4tc3lmakg.2.1.0.0.0.2.1.4">0</div></div></div><div class="clock-pair" data-reactid=".1k4tc3lmakg.2.1.0.0.0.3"><div class="clock-col" data-reactid=".1k4tc3lmakg.2.1.0.0.0.3.0"><div class="clock-cell dark" data-reactid=".1k4tc3lmakg.2.1.0.0.0.3.0.0"></div><div class="clock-cell dark" data-reactid=".1k4tc3lmakg.2.1.0.0.0.3.0.1"></div><div class="clock-cell dark" data-reactid=".1k4tc3lmakg.2.1.0.0.0.3.0.2"></div><div class="clock-cell dark" data-reactid=".1k4tc3lmakg.2.1.0.0.0.3.0.3"></div><div class="clock-cell" data-reactid=".1k4tc3lmakg.2.1.0.0.0.3.0.4">0</div></div><div class="clock-col" data-reactid=".1k4tc3lmakg.2.1.0.0.0.3.1"><div class="clock-cell dark" data-reactid=".1k4tc3lmakg.2.1.0.0.0.3.1.0"></div><div class="clock-cell light" data-reactid=".1k4tc3lmakg.2.1.0.0.0.3.1.1"></div><div class="clock-cell dark" data-reactid=".1k4tc3lmakg.2.1.0.0.0.3.1.2"></div><div class="clock-cell dark" data-reactid=".1k4tc3lmakg.2.1.0.0.0.3.1.3"></div><div class="clock-cell" data-reactid=".1k4tc3lmakg.2.1.0.0.0.3.1.4">4</div></div></div></div></div><div data-reactid=".1k4tc3lmakg.2.1.0.1"><strong data-reactid=".1k4tc3lmakg.2.1.0.1.0">Click to toggle 1/100th seconds.</strong></div></div><p data-reactid=".1k4tc3lmakg.2.1.1"><span data-reactid=".1k4tc3lmakg.2.1.1.0">Fredrik Dyrkell wrote a very nice </span><a href="http://www.lexicallyscoped.com/2014/01/23/clojurescript-react-om-binary-clock.html" data-reactid=".1k4tc3lmakg.2.1.1.1">binary
      clock</a><span data-reactid=".1k4tc3lmakg.2.1.1.2"> using </span><a href="https://github.com/swannodette/om" data-reactid=".1k4tc3lmakg.2.1.1.3">Om</a><span data-reactid=".1k4tc3lmakg.2.1.1.4">. I thought I’d replicate that
      using Reagent for fun (another re-write, using </span><a href="http://hoplon.io" data-reactid=".1k4tc3lmakg.2.1.1.5">Hoplon</a><span data-reactid=".1k4tc3lmakg.2.1.1.6">, can be seen </span><a href="http://pmbauer.github.io/2014/01/27/hoplon-binary-clock/" data-reactid=".1k4tc3lmakg.2.1.1.7">here</a><span data-reactid=".1k4tc3lmakg.2.1.1.8">).</span></p><p data-reactid=".1k4tc3lmakg.2.1.2">So, without further ado, here is a binary clock using Reagent.</p><div class="demo-text" data-reactid=".1k4tc3lmakg.2.1.3"><div data-reactid=".1k4tc3lmakg.2.1.3.0"><div class="demo-source clearfix" data-reactid=".1k4tc3lmakg.2.1.3.0.0"><pre data-reactid=".1k4tc3lmakg.2.1.3.0.0.0"><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.0.0.0.0">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.0.0.0.1">ns</span><span data-reactid=".1k4tc3lmakg.2.1.3.0.0.0.2"> </span><span style="color:#55c;font-weight:bold;" data-reactid=".1k4tc3lmakg.2.1.3.0.0.0.3">example</span><span data-reactid=".1k4tc3lmakg.2.1.3.0.0.0.4">
  </span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.0.0.0.5">(</span><span style="color:blue;" data-reactid=".1k4tc3lmakg.2.1.3.0.0.0.6">:require</span><span data-reactid=".1k4tc3lmakg.2.1.3.0.0.0.7"> </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.0.0.0.8">[</span><span data-reactid=".1k4tc3lmakg.2.1.3.0.0.0.9">reagent.core </span><span style="color:blue;" data-reactid=".1k4tc3lmakg.2.1.3.0.0.0.a">:as</span><span data-reactid=".1k4tc3lmakg.2.1.3.0.0.0.b"> r </span><span style="color:blue;" data-reactid=".1k4tc3lmakg.2.1.3.0.0.0.c">:refer</span><span data-reactid=".1k4tc3lmakg.2.1.3.0.0.0.d"> </span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.0.0.0.e">[</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.0.0.0.f">atom</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.0.0.0.g">]</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.0.0.0.h">]</span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.0.0.0.i">)</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.0.0.0.j">)</span></pre></div></div><p data-reactid=".1k4tc3lmakg.2.1.3.1">We start with the basics: The clock is built out of
         cells, with a light colour if the bit the cell corresponds to
         is set.</p><div data-reactid=".1k4tc3lmakg.2.1.3.2"><div class="demo-source clearfix" data-reactid=".1k4tc3lmakg.2.1.3.2.0"><pre data-reactid=".1k4tc3lmakg.2.1.3.2.0.0"><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.0">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.1">defn</span><span data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.2"> </span><span style="color:#55c;font-weight:bold;" data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.3">cell</span><span data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.4"> </span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.5">[</span><span data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.6">n bit</span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.7">]</span><span data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.8">
  </span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.9">[</span><span style="color:blue;" data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.a">:div.clock-cell</span><span data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.b"> </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.c">{</span><span style="color:blue;" data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.d">:class</span><span data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.e"> </span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.f">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.g">if</span><span data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.h"> </span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.i">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.j">bit-test</span><span data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.k"> n bit</span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.l">)</span><span data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.m">
                             </span><span style="color:green;" data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.n">&quot;light&quot;</span><span data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.o">
                             </span><span style="color:green;" data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.p">&quot;dark&quot;</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.q">)</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.r">}</span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.s">]</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.2.0.0.t">)</span></pre></div></div><p data-reactid=".1k4tc3lmakg.2.1.3.3">Cells are combined into columns of four bits, with a
         decimal digit at the bottom.</p><div data-reactid=".1k4tc3lmakg.2.1.3.4"><div class="demo-source clearfix" data-reactid=".1k4tc3lmakg.2.1.3.4.0"><pre data-reactid=".1k4tc3lmakg.2.1.3.4.0.0"><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.0">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.1">defn</span><span data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.2"> </span><span style="color:#55c;font-weight:bold;" data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.3">column</span><span data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.4"> </span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.5">[</span><span data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.6">n</span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.7">]</span><span data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.8">
  </span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.9">[</span><span style="color:blue;" data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.a">:div.clock-col</span><span data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.b">
   </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.c">[</span><span data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.d">cell n 3</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.e">]</span><span data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.f">
   </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.g">[</span><span data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.h">cell n 2</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.i">]</span><span data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.j">
   </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.k">[</span><span data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.l">cell n 1</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.m">]</span><span data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.n">
   </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.o">[</span><span data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.p">cell n 0</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.q">]</span><span data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.r">
   </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.s">[</span><span style="color:blue;" data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.t">:div.clock-cell</span><span data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.u"> n</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.v">]</span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.w">]</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.4.0.0.x">)</span></pre></div></div><p data-reactid=".1k4tc3lmakg.2.1.3.5">Columns are in turn combined into pairs:</p><div data-reactid=".1k4tc3lmakg.2.1.3.6"><div class="demo-source clearfix" data-reactid=".1k4tc3lmakg.2.1.3.6.0"><pre data-reactid=".1k4tc3lmakg.2.1.3.6.0.0"><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.0">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.1">defn</span><span data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.2"> </span><span style="color:#55c;font-weight:bold;" data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.3">column-pair</span><span data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.4"> </span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.5">[</span><span data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.6">n</span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.7">]</span><span data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.8">
  </span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.9">[</span><span style="color:blue;" data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.a">:div.clock-pair</span><span data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.b">
   </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.c">[</span><span data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.d">column </span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.e">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.f">quot</span><span data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.g"> n 10</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.h">)</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.i">]</span><span data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.j">
   </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.k">[</span><span data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.l">column </span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.m">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.n">mod</span><span data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.o"> n 10</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.p">)</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.q">]</span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.r">]</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.6.0.0.s">)</span></pre></div></div><p data-reactid=".1k4tc3lmakg.2.1.3.7">We&#x27;ll also need the legend on the left side:</p><div data-reactid=".1k4tc3lmakg.2.1.3.8"><div class="demo-source clearfix" data-reactid=".1k4tc3lmakg.2.1.3.8.0"><pre data-reactid=".1k4tc3lmakg.2.1.3.8.0.0"><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.0">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.1">defn</span><span data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.2"> </span><span style="color:#55c;font-weight:bold;" data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.3">legend</span><span data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.4"> </span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.5">[</span><span data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.6">&amp; items</span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.7">]</span><span data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.8">
  </span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.9">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.a">into</span><span data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.b"> </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.c">[</span><span style="color:blue;" data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.d">:div.clock-col.clock-legend</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.e">]</span><span data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.f">
        </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.g">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.h">map</span><span data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.i"> </span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.j">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.k">partial</span><span data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.l"> </span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.m">vector</span><span data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.n"> </span><span style="color:blue;" data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.o">:div.clock-cell</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.p">)</span><span data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.q">
             items</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.r">)</span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.s">)</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.8.0.0.t">)</span></pre></div></div><p data-reactid=".1k4tc3lmakg.2.1.3.9">We combine these element into a component that shows the
         legend, hours, minutes and seconds; and optionally 1/100
         seconds. It also responds to clicks.</p><div data-reactid=".1k4tc3lmakg.2.1.3.a"><div class="demo-source clearfix" data-reactid=".1k4tc3lmakg.2.1.3.a.0"><pre data-reactid=".1k4tc3lmakg.2.1.3.a.0.0"><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.0">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1">defn</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.2"> </span><span style="color:#55c;font-weight:bold;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.3">clock</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.4"> </span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.5">[</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.6">date show-100s toggle-100s</span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.7">]</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.8">
  </span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.9">[</span><span style="color:blue;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.a">:div.clock-main</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.b"> </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.c">{</span><span style="color:blue;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.d">:on-click</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.e"> toggle-100s
                    </span><span style="color:blue;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.f">:class</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.g"> </span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.h">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.i">when</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.j"> show-100s </span><span style="color:green;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.k">&quot;wide&quot;</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.l">)</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.m">}</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.n">
   </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.o">[</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.p">legend 8 4 2 1</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.q">]</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.r">
   </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.s">[</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.t">column-pair </span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.u">(</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.v">.getHours date</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.w">)</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.x">]</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.y">
   </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.z">[</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.10">column-pair </span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.11">(</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.12">.getMinutes date</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.13">)</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.14">]</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.15">
   </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.16">[</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.17">column-pair </span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.18">(</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.19">.getSeconds date</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1a">)</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1b">]</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1c">
   </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1d">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1e">when</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1f"> show-100s
     </span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1g">[</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1h">column-pair </span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1i">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1j">-&gt;</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1k"> </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1l">(</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1m">.getMilliseconds date</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1n">)</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1o">
                      </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1p">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1q">quot</span><span data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1r"> 10</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1s">)</span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1t">)</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1u">]</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1v">)</span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1w">]</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.a.0.0.1x">)</span></pre></div></div><p data-reactid=".1k4tc3lmakg.2.1.3.b">We also need to keep track of the time, and of the
         detail shown, in a Reagent atom. And a function to update the
         time.</p><div data-reactid=".1k4tc3lmakg.2.1.3.c"><div class="demo-source clearfix" data-reactid=".1k4tc3lmakg.2.1.3.c.0"><pre data-reactid=".1k4tc3lmakg.2.1.3.c.0.0"><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.0">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.1">def</span><span data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.2"> </span><span style="color:#55c;font-weight:bold;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.3">clock-state</span><span data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.4"> </span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.5">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.6">atom</span><span data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.7"> </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.8">{</span><span style="color:blue;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.9">:time</span><span data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.a"> </span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.b">(</span><span data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.c">js/Date.</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.d">)</span><span data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.e">
                        </span><span style="color:blue;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.f">:show-100s</span><span data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.g"> </span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.h">false</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.i">}</span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.j">)</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.k">)</span><span data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.l">

</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.m">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.n">defn</span><span data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.o"> </span><span style="color:#55c;font-weight:bold;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.p">update-time</span><span data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.q"> </span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.r">[</span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.s">]</span><span data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.t">
  </span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.u">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.v">swap!</span><span data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.w"> clock-state </span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.x">assoc</span><span data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.y"> </span><span style="color:blue;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.z">:time</span><span data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.10"> </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.11">(</span><span data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.12">js/Date.</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.13">)</span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.14">)</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.c.0.0.15">)</span></pre></div></div><p data-reactid=".1k4tc3lmakg.2.1.3.d"><span data-reactid=".1k4tc3lmakg.2.1.3.d.0">And finally we use the </span><code data-reactid=".1k4tc3lmakg.2.1.3.d.1">clock</code><span data-reactid=".1k4tc3lmakg.2.1.3.d.2"> component.
         The current time is scheduled to be updated, after a suitable
         delay, every time the main component is rendered (</span><code data-reactid=".1k4tc3lmakg.2.1.3.d.3">reagent.core/next-tick</code><span data-reactid=".1k4tc3lmakg.2.1.3.d.4"> is just a front for </span><code data-reactid=".1k4tc3lmakg.2.1.3.d.5">requestAnimationFrame</code><span data-reactid=".1k4tc3lmakg.2.1.3.d.6">):</span></p><div data-reactid=".1k4tc3lmakg.2.1.3.e"><div class="demo-source clearfix" data-reactid=".1k4tc3lmakg.2.1.3.e.0"><pre data-reactid=".1k4tc3lmakg.2.1.3.e.0.0"><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.0">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.1">defn</span><span data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.2"> </span><span style="color:#55c;font-weight:bold;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.3">main</span><span data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.4"> </span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.5">[</span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.6">]</span><span data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.7">
  </span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.8">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.9">let</span><span data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.a"> </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.b">[</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.c">{</span><span style="color:blue;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.d">:keys</span><span data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.e"> </span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.f">[</span><span data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.g">time show-100s</span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.h">]</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.i">}</span><span data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.j"> @clock-state</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.k">]</span><span data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.l">
    </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.m">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.n">if</span><span data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.o"> show-100s
      </span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.p">(</span><span data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.q">r/next-tick update-time</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.r">)</span><span data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.s">
      </span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.t">(</span><span data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.u">js/setTimeout update-time 1000</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.v">)</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.w">)</span><span data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.x">
    </span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.y">[</span><span data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.z">clock time show-100s
     #</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.10">(</span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.11">swap!</span><span data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.12"> clock-state </span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.13">update-in</span><span data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.14"> </span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.15">[</span><span style="color:blue;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.16">:show-100s</span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.17">]</span><span data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.18"> </span><span style="font-weight:bold;color:#687868;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.19">not</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.1a">)</span><span style="color:#44a;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.1b">]</span><span style="color:#940;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.1c">)</span><span style="color:#272;" data-reactid=".1k4tc3lmakg.2.1.3.e.0.0.1d">)</span></pre></div></div><p data-reactid=".1k4tc3lmakg.2.1.3.f"><span data-reactid=".1k4tc3lmakg.2.1.3.f.0">The entire source is also available </span><a href="https://github.com/reagent-project/reagent/blob/master/demo/reagentdemo/news/binaryclock.cljs" data-reactid=".1k4tc3lmakg.2.1.3.f.1">here</a><span data-reactid=".1k4tc3lmakg.2.1.3.f.2">.</span></p><h2 data-reactid=".1k4tc3lmakg.2.1.3.g">How it all works</h2><p data-reactid=".1k4tc3lmakg.2.1.3.h">Reading through the source, it may look like the entire
         clock component is recreated from scratch whenever the time
         changes. </p><p data-reactid=".1k4tc3lmakg.2.1.3.i"><span data-reactid=".1k4tc3lmakg.2.1.3.i.0">That is an illusion: Reagent and React together
         makes sure that only the parts of the DOM that actually need
         to change are updated. For example, the </span><code data-reactid=".1k4tc3lmakg.2.1.3.i.1">column-pair</code><span data-reactid=".1k4tc3lmakg.2.1.3.i.2"> function corresponding to hours only
         runs once every hour.</span></p><p data-reactid=".1k4tc3lmakg.2.1.3.j">And that’s what makes Reagent and React fast. Try
         clicking on the clock to toggle the display of 1/100th
         seconds. Most browsers should have no trouble at all keeping
         up (even if they won’t actually show every 1/100th second:
         they are typically limited to roughly 60 fps).</p><p data-reactid=".1k4tc3lmakg.2.1.3.k">But it is a very handy illusion. Almost the entire UI is
         made up of pure functions, transforming immutable data into
         other immutable data structures. That makes them easy to
         reason about, and trivial to test. You don’t have to care
         about ”model objects”, or about how to update the DOM
         efficiently. </p><p data-reactid=".1k4tc3lmakg.2.1.3.l">Just pass arguments to component functions, return a UI
         description that corresponds to those arguments, and leave it
         to React to actually display that UI.</p></div></div></div><a href="https://github.com/reagent-project/reagent" class="github-badge" data-reactid=".1k4tc3lmakg.3"><img style="position:absolute;top:0;left:0;border:0;" alt="Fork me on GitHub" src="https://s3.amazonaws.com/github/ribbons/forkme_left_orange_ff7600.png" data-reactid=".1k4tc3lmakg.3.0"></a></div></div></div><script>var pageConfig = {"allow-html5-history":true,"page-name":"news/binary-clock.html"}</script><script src="../js/main.js?1419065404903" type="text/javascript"></script></body></html>